language: c++
sudo: true

matrix:
  exclude:
    - env: TRAVIS_EMPTY_JOB_WORKAROUND=true

  include:
    ##########################################################################
    # Check for code formatting errors
    ##########################################################################
    - os: osx
      env:
      osx_image: xcode9.2
      before_install:
        - brew install glfw python3 freetype fontconfig

    - os: linux
      env:
      compiler:
        - gcc
      addons:
        apt:
          sources:
            - ubuntu-toolchain-r-test
          packages:
            - gcc
            - g++
            - cmake
            - libglfw-dev
            - libglew-dev
            - libfontconfig1-dev
            - libfreetype6-dev

script:
    ############################################################################
    # Build main and tests
    ############################################################################
     - mkdir -p build
     - cd build
     - cmake .. -DPYTHON_INCLUDE_DIR=$(python3 -c "from distutils.sysconfig import get_python_inc; print(get_python_inc())") -DBUILD_WXWIDGETS_UI=OFF -DBUILD_OPENGL_UI=ON
     - make
